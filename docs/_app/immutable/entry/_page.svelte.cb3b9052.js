import{S as P,i as V,s as J,k as A,q as N,a as x,J as U,l as b,m as R,r as q,h as d,c as I,n as r,p as z,G as w,b as j,K as T,L as S,H as B,M as X,o as F}from"../chunks/index.2b94ee89.js";function $(f){let t,s,l;return{c(){t=A("textarea"),this.h()},l(n){t=b(n,"TEXTAREA",{rows:!0,class:!0}),R(t).forEach(d),this.h()},h(){r(t,"rows","20"),r(t,"class","svelte-98eofw")},m(n,_){j(n,t,_),T(t,f[1]),s||(l=S(t,"input",f[6]),s=!0)},p(n,_){_&2&&T(t,n[1])},d(n){n&&d(t),s=!1,l()}}}function G(f){let t,s,l,n,_,L,a,i,E,g,W,k,h,p,o=f[1]&&$(f);return{c(){t=A("link"),s=A("link"),l=A("link"),n=A("script"),_=N(`"undefined"==typeof Worker||"undefined"!=typeof location&&"file:"===location.protocol?"undefined"!=typeof global&&"undefined"!=typeof require?this.LZMA=function(n){return require(n||"./lzma-d-min.js").LZMA}:"undefined"!=typeof window&&window.document?!function(){function n(n){var o;return t(n),o={compress:function(n,t,r,i){e.LZMA_WORKER?e.LZMA_WORKER.compress(n,t,r,i):setTimeout(function(){o.compress(n,t,r,i)},50)},decompress:function(n,t,r){e.LZMA_WORKER?e.LZMA_WORKER.decompress(n,t,r):setTimeout(function(){o.decompress(n,t,r)},50)}}}var e,o=this,t=function(e){var t=document.createElement("script");t.type="text/javascript",t.src=e,t.onload=function(){o.LZMA=n},document.getElementsByTagName("head")[0].appendChild(t)};"undefined"!=typeof window?e=window:global&&(e=global),o.LZMA=n}():console.log("Can't load the worker. Sorry."):this.LZMA=function(n){var e=1,o=2,t=3,r={},i=new Worker(n||"./lzma-d-min.js");return i.onmessage=function(n){n.data.action===t?r[n.data.cbn]&&"function"==typeof r[n.data.cbn].on_progress&&r[n.data.cbn].on_progress(n.data.result):r[n.data.cbn]&&"function"==typeof r[n.data.cbn].on_finish&&(r[n.data.cbn].on_finish(n.data.result),delete r[n.data.cbn])},i.onerror=function(n){throw Error(n.message+" ("+n.filename+":"+n.lineno+")")},function(){function n(n,e,o,t,a){var c;do c=Math.floor(1e7*Math.random());while(void 0!==r[c]);r[c]={on_finish:t,on_progress:a},i.postMessage({action:n,cbn:c,W:e,mode:o})}return{compress:function(o,t,r,i){n(e,o,t,r,i)},decompress:function(e,t,r){n(o,e,!1,t,r)}}}()};`),L=x(),a=A("div"),i=A("textarea"),E=x(),g=A("button"),W=N("Button"),k=x(),o&&o.c(),this.h()},l(e){const c=U("svelte-ryqm8g",document.head);t=b(c,"LINK",{rel:!0,href:!0,class:!0}),s=b(c,"LINK",{rel:!0,href:!0,crossorigin:!0,class:!0}),l=b(c,"LINK",{href:!0,rel:!0,class:!0}),n=b(c,"SCRIPT",{class:!0});var M=R(n);_=q(M,`"undefined"==typeof Worker||"undefined"!=typeof location&&"file:"===location.protocol?"undefined"!=typeof global&&"undefined"!=typeof require?this.LZMA=function(n){return require(n||"./lzma-d-min.js").LZMA}:"undefined"!=typeof window&&window.document?!function(){function n(n){var o;return t(n),o={compress:function(n,t,r,i){e.LZMA_WORKER?e.LZMA_WORKER.compress(n,t,r,i):setTimeout(function(){o.compress(n,t,r,i)},50)},decompress:function(n,t,r){e.LZMA_WORKER?e.LZMA_WORKER.decompress(n,t,r):setTimeout(function(){o.decompress(n,t,r)},50)}}}var e,o=this,t=function(e){var t=document.createElement("script");t.type="text/javascript",t.src=e,t.onload=function(){o.LZMA=n},document.getElementsByTagName("head")[0].appendChild(t)};"undefined"!=typeof window?e=window:global&&(e=global),o.LZMA=n}():console.log("Can't load the worker. Sorry."):this.LZMA=function(n){var e=1,o=2,t=3,r={},i=new Worker(n||"./lzma-d-min.js");return i.onmessage=function(n){n.data.action===t?r[n.data.cbn]&&"function"==typeof r[n.data.cbn].on_progress&&r[n.data.cbn].on_progress(n.data.result):r[n.data.cbn]&&"function"==typeof r[n.data.cbn].on_finish&&(r[n.data.cbn].on_finish(n.data.result),delete r[n.data.cbn])},i.onerror=function(n){throw Error(n.message+" ("+n.filename+":"+n.lineno+")")},function(){function n(n,e,o,t,a){var c;do c=Math.floor(1e7*Math.random());while(void 0!==r[c]);r[c]={on_finish:t,on_progress:a},i.postMessage({action:n,cbn:c,W:e,mode:o})}return{compress:function(o,t,r,i){n(e,o,t,r,i)},decompress:function(e,t,r){n(o,e,!1,t,r)}}}()};`),M.forEach(d),c.forEach(d),L=I(e),a=b(e,"DIV",{style:!0,class:!0});var u=R(a);i=b(u,"TEXTAREA",{rows:!0,cols:!0,class:!0}),R(i).forEach(d),E=I(u),g=b(u,"BUTTON",{class:!0});var Z=R(g);W=q(Z,"Button"),Z.forEach(d),k=I(u),o&&o.l(u),u.forEach(d),this.h()},h(){document.title="svelte-rhyme-scheme",r(t,"rel","preconnect"),r(t,"href","https://fonts.googleapis.com"),r(t,"class","svelte-98eofw"),r(s,"rel","preconnect"),r(s,"href","https://fonts.gstatic.com"),r(s,"crossorigin",""),r(s,"class","svelte-98eofw"),r(l,"href","https://fonts.googleapis.com/css2?family=Fira+Code:wght@500&display=swap"),r(l,"rel","stylesheet"),r(l,"class","svelte-98eofw"),r(n,"class","svelte-98eofw"),r(i,"rows","20"),r(i,"cols","40"),r(i,"class","svelte-98eofw"),r(g,"class","svelte-98eofw"),z(a,"display","flex"),z(a,"flex-direction","row"),r(a,"class","svelte-98eofw")},m(e,c){w(document.head,t),w(document.head,s),w(document.head,l),w(document.head,n),w(n,_),j(e,L,c),j(e,a,c),w(a,i),T(i,f[0]),w(a,E),w(a,g),w(g,W),w(a,k),o&&o.m(a,null),h||(p=[S(i,"paste",f[4]),S(i,"keydown",f[3]),S(i,"input",f[5]),S(g,"click",f[2])],h=!0)},p(e,[c]){c&1&&T(i,e[0]),e[1]?o?o.p(e,c):(o=$(e),o.c(),o.m(a,null)):o&&(o.d(1),o=null)},i:B,o:B,d(e){d(t),d(s),d(l),d(n),e&&d(L),e&&d(a),o&&o.d(),h=!1,X(p)}}}function H(f,t,s){F(async()=>{const h=new LZMA;fetch("/transformed.lzma").then(p=>p.arrayBuffer()).then(async p=>{const o=new Int8Array(p);h.decompress(o,(e,c)=>{_=JSON.parse(e)},e=>{console.log(e)})}).catch(p=>{debugger})});let l,n,_;const L=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],a={T:1,Z:1};function i(){let h=0;const p=[],o=Array.from(l.matchAll(/([a-zA-Z']+)\S*?\s*?$/gm)).map(e=>e[1]);for(const e of o){const c=_[e.toUpperCase()];if(!c)throw"!phoneticsArr";let M,u,Z;e:for(;;){for(let K=c.length-1;K>-1;--K){const C=c[K];u=[];let O=1/0;for(;(O=C.lastIndexOf(" ",O-1))>-1;)u.push(C.slice(O+1));u.push(C);const v=[];for(const y of p){let m=0;const D=Math.min(y.deconstructedArr.length,u.length);for(;m<D&&y.deconstructedArr[m]===u[m];)++m;m>0&&!a[y.deconstructedArr[m-1]]&&v.push({rhymesWithWord:y.word,rhymeSchemeLetter:y.rhymeSchemeLetter,commonSoundsCount:m})}if(v.length){let y=0;for(let m=1;m<v.length;m++)v[m].commonSoundsCount>v[y].commonSoundsCount&&(y=m);M=v[y].rhymeSchemeLetter,Z=v[y].rhymesWithWord;break e}}M=L[h],++h;break}p.push({word:e,deconstructedArr:u,rhymeSchemeLetter:M,rhymesWithWord:Z})}s(1,n=p.map(e=>`${e.word} ${e.rhymeSchemeLetter}${e.rhymesWithWord?` (${e.rhymesWithWord})`:""}`).join(`
`))}function E(h){h.key==="Enter"&&(h.shiftKey||(h.preventDefault(),i()))}const g=()=>setTimeout(i,1);function W(){l=this.value,s(0,l)}function k(){n=this.value,s(1,n)}return[l,n,i,E,g,W,k]}class Y extends P{constructor(t){super(),V(this,t,H,G,J,{})}}export{Y as default};
